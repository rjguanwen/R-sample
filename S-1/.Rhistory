library(maps)
library(mapdata)
library(maptools)
library(sp)
library(maptools)
plot(cars)
plot(cars)
# 读取数据
map <- readShapePoly('E:/workspaces/R/S-1/chinamapdata/bou2_4p.shp')
map <- readShapePoly('E:/workspaces/R/S-1/chinamapdata/bou2_4p.shp')
map <- readShapePoly('E:/workspaces/R/S-1/chinamapdata/bou2_4p.shp')
# maptools包绘制中国地图
# 加载相关包
library(maps)
library(mapdata)
library(maptools)
library(maps)
library(maps)
library(mapdata)
library(maptools)
library(maps)
library(mapdata)
library(maptools)
# 读取数据
map <- readShapePoly('E:/workspaces/R/S-1/chinamapdata/bou2_4p.shp')
# 画图
plot(map)
# maptools包绘制中国地图
# 加载相关包
library(maps)
library(mapdata)
library(maptools)
# maptools包绘制中国地图
library(maps)
library(mapdata)
library(maptools)
library(maps)
library(mapdata)
library(maptools)
# 查看数据
length(map)
names(map)
table(iconv(map$NAME, from = 'GBK'))
iconv(map$Name, from = 'GBK')
iconv(map$NAME, from = 'GBK')
plot(map[1,])
plot(map[5,])
plot(map[9,])
library(dplyr)
library(maptools)
library(ggplot2)
library(dplyr)
library(dplyr)
library(maptools)
library(dplyr)
library(maptools)
library(ggplot2)
map_data <- readShapePoly(file.choose())
library(devtools)
install_github('badbye/baidumap')
install_github('lchiffon/REmap')
library(devtools)
library('badbye/baidumap')
library(devtools)
library(baidumap)
library(REmap)
library(devtools)
library(baidumap)
library(REmap)
library(ggmap)
options(baidumap.key = 'Z7PttuaHQfaM1sF42RN4fccX')
q <- getBaiduMap('北京大学', width=600, height=600, zoom=18, scale = 2, messaging=FALSE)
ggmap(q)
bjMap = getBaiduMap('北京',color = 'bw')
df = getRoute('首都国际机场', '北京南苑机场')
ggmap(bjMap) + geom_path(data = df, aes(lon, lat), alpha = 0.5, col = 'red')
library(REmap)
remapB()
remapB(get_city_coord("大连"), zoom = 12)
remapB(color = "Blue")
remapB(title="Bmap 迁移图",)
remapB(title="Bmap 迁移图", color="Blue", markLineData=demoC, markPointData=DemoC[,2])
remapB(title="Bmap 迁移图", color="Blue", markLineData=demoC, markPointData=demoC[,2])
pointData = data.frame(geoData$name, color=c(rep("skyblue",20),rep("red",10)))
remapB(get_city_doord("上海")， zoom=13, color="Blue", title="上海美食"，markPointData=pointData,markPointTheme=markPointControl(symbol='pin',symbolSize=5,effect=F),geoData=geoData)
remapB(get_city_coord("上海")， zoom=13, color="Blue", title="上海美食"，markPointData=pointData,markPointTheme=markPointControl(symbol='pin',symbolSize=5,effect=F),geoData=geoData)
remapB(get_city_coord("上海"), zoom=13, color="Blue", title="上海美食",markPointData=pointData,markPointTheme=markPointControl(symbol='pin',symbolSize=5,effect=F),geoData=geoData)
remapB(get_city_coord("上海"), zoom=13, title="上海美食",markPointData=pointData,markPointTheme=markPointControl(symbol='pin',symbolSize=5,effect=F),geoData=geoData)
print(pointData)
geoData
library(REmap)
library(REmap)
remapB()
remapB(get_city_coord("北京"),zoom = 12)
remapB(get_city_coord("大连"),color = "Blue")
remapB(get_city_coord("大连"), color = "Blue", zoom=12)
remapB(title = "Bmap 迁徙图示例",
color = "Blue",
markLineData = demoC,
markPointData = demoC[,2])
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC)
markLineControl(symbolSize = c(2,4),
smoothness = 0.2,
effect = T,
lineWidth = 1,
lineType = 'solid',
color = "Random")
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC,
markLineTheme = markLineControl(symbolSize = c(0,0),
lineWidth = 10,
lineType = 'dashed'))
demoC$color = sample(c("red","blue"),10,replace = T)
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC,
markLineTheme = markLineControl(symbolSize = c(0,0),
lineWidth = 10,
effect = F,
lineType = 'dashed'))
get_geo_position(c("Beijing","Shanghai","Guangzhou"))
head(subway[[1]])
remapB(center = get_city_coord("上海"),
zoom = 13,
title = "Remap:  上海地铁一号线",
color = "Blue",
markLineData = subway[[2]],
markLineTheme = markLineControl(smoothness = 0,
effect = T,
symbolSize = c(0,0)),
geoData = subway[[1]])
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markPointData = demoC[,2])
markPointControl(symbol = 'emptyCircle',
symbolSize = "Random",
effect = T,
effectType = 'scale',
color = "Random")
remapB(title = "Remap:  markPoint示例",
color = "Blue",
markPointData = demoC[,2],
markPointTheme = markPointControl(symbol =
"image://http://chiffon.gitcafe.io/assets/images/df_logo.jpg",
symbolSize = 15,
effect = F))
remapB(title = "Remap:  markPoint示例",
color = "Blue",
markPointData = demoC[,2],
markPointTheme = markPointControl(symbol =
"image://https://lh3.googleusercontent.com/-Lp7pZIh_Am8/AAAAAAAAAAI/AAAAAAAAADQ/7vORCc61USg/s64-c/photo.jpg",
symbolSize = 15,
effect = F))
pointData = data.frame(geoData$name,
color = c(rep("skyblue",20),
rep("red",10)))
remapB(get_city_coord("上海"),
zoom = 13,
color = "Blue",
title = "上海美食",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = geoData)
names(geoData) = names(subway[[1]])
remapB(get_city_coord("上海"),
zoom = 13,
color = "Blue",
title = "Remap:  MarkPoint&MarkLine",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
markLineData = subway[[2]],
markLineTheme = markLineControl(symbolSize = c(0,0),
smoothness = 0),
geoData = rbind(geoData,subway[[1]]))
library(REmap)
remapB()
remapB(get_city_coord("北京"),zoom = 12)
remapB(get_city_coord("大连"), color = "Blue", zoom=12)
remapB(title = "Bmap 迁徙图示例",
color = "Blue",
markLineData = demoC,
markPointData = demoC[,2])
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC)
markLineControl(symbolSize = c(2,4),
smoothness = 0.2,
effect = T,
lineWidth = 1,
lineType = 'solid',
color = "Random")
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC,
markLineTheme = markLineControl(symbolSize = c(0,0),
lineWidth = 10,
lineType = 'dashed'))
demoC$color = sample(c("red","blue"),10,replace = T)
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC,
markLineTheme = markLineControl(symbolSize = c(0,0),
lineWidth = 10,
effect = F,
lineType = 'dashed'))
get_geo_position(c("Beijing","Shanghai","Guangzhou"))
head(subway[[1]])
remapB(center = get_city_coord("上海"),
zoom = 13,
title = "Remap:  上海地铁一号线",
color = "Blue",
markLineData = subway[[2]],
markLineTheme = markLineControl(smoothness = 0,
effect = T,
symbolSize = c(0,0)),
geoData = subway[[1]])
remapB(title = "Remap:  百度模拟-标点",
color = "Blue",
markPointData = demoC[,2])
markPointControl(symbol = 'emptyCircle',
symbolSize = "Random",
effect = T,
effectType = 'scale',
color = "Random")
remapB(title = "Remap:  markPoint示例",
color = "Blue",
markPointData = demoC[,2],
markPointTheme = markPointControl(symbol =
"image://https://lh3.googleusercontent.com/-Lp7pZIh_Am8/AAAAAAAAAAI/AAAAAAAAADQ/7vORCc61USg/s64-c/photo.jpg",
symbolSize = 15,
effect = F))
# 大连终端户分布
pointData = data.frame(geoData$name,
color = c(rep("skyblue",20),
rep("red",10)))
remapB(get_city_coord("大连"),
zoom = 13,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = geoData)
print(geoData)
print(geoData)
# print(geoData)
print(class(geoData))
pointData = data.frame(geoData$name,
color = c(rep("skyblue",20),
rep("red",10)))
remapB(get_city_coord("上海"),
zoom = 13,
title = "上海美食",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = geoData)
demoC$color = sample(c("red","blue"),10,replace = T)
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC,
markLineTheme = markLineControl(symbolSize = c(0,0),
lineWidth = 10,
effect = F,
lineType = 'dashed'))
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC,
markLineTheme = markLineControl(symbolSize = c(0,0),
lineWidth = 10,
lineType = 'dashed'))
remapB(title = "Remap:  百度迁徙模拟",
color = "Blue",
markLineData = demoC)
remapB(title = "Bmap 迁徙图示例",
color = "Blue",
markLineData = demoC,
markPointData = demoC[,2])
# 大连终端户分布
pointData = data.frame(geoData$name,
color = c(rep("skyblue",20),
rep("red",10)))
remapB(get_city_coord("大连"),
zoom = 10,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = geoData)
# 大连终端户分布
dl_geoData = read.csv('D:\temp\POS_GPS_MAP1.csv')
# 大连终端户分布
dl_geoData = read.csv('D:/temp、POS_GPS_MAP1.csv')
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv')
pointData = data.frame(dl_geoData$dth_title,
color = c(rep("skyblue",20),
rep("red",10)))
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv')
pointData = data.frame(dl_geoData$dth_title)
remapB(get_city_coord("大连"),
zoom = 10,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
print(dl_geoData)
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv', sep='\t')
read.csv
pointData = data.frame(dl_geoData$dth_title)
remapB(get_city_coord("大连"),
zoom = 10,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv', sep='\t')
read.csv
pointData = data.frame(dl_geoData$dth_title)
remapB(get_city_coord("大连"),
zoom = 13,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv', sep='\t')
read.csv
pointData = data.frame(dl_geoData$name)
remapB(get_city_coord("大连"),
zoom = 13,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
print(geoData)
# print(class(geoData))
print(dl_geoData)
print(geoData$name)
print(geoData)
# print(class(geoData))
print(geoData$name)
# print(class(geoData))
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv', sep='\t')
read.csv
pointData = data.frame(dl_geoData$name)
remapB(get_city_coord("大连"),
zoom = 13,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv', sep='\t')
read.csv
pointData = data.frame(dl_geoData$name,
color = c(rep("skyblue",7),
rep("red",200)))
remapB(get_city_coord("大连"),
zoom = 13,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
print(dl_geoData)
print(dl_geoData$name)
print(geoData)
# print(class(geoData))
# print(dl_geoData$name)
print(dl_geoData)
# print(dl_geoData$name)
# print(dl_geoData)
print(class(dl_geoData))
library(sp)
library(ggplot2)
library(ggmap)
library(devtools)
library(baidumap)
options(baidumap.key = 'Z7PttuaHQfaM1sF42RN4fccX')
data_shenzhen <- read.csv('/Users/tianfch/pythonnew/R/POS_GPS_MAP.csv')
options(baidumap.key = 'Z7PttuaHQfaM1sF42RN4fccX')
data_shenzhen <- read.csv('D:/temp/POS_GPS_MAP.csv')
p3 <- getBaiduMap(c(lon = 121.59347778143519,lat = 38.94870993830429),zoom = 10)
map_layer_shenzheng <- ggmap(p3)
print(map_layer_shenzheng)
map_layer_shenzheng$data
mymap3 <- map_layer_shenzheng + stat_density2d(data = data_shenzhen,aes(lng,lat,alpha = ..level..,fill=..level..),size=2,bins=100,geom="polygon")+
scale_fill_gradient(low="blue",high="yellow")+
scale_alpha(range = c(0.001,0.13),guide =FALSE)+
geom_density2d(data=data_shenzhen,aes(lng,lat),bins = 10,show.legend = F)+
geom_point(data = data_shenzhen,aes(lng,lat))
print(mymap3)
# 大连终端户分布
dl_geoData = read.csv('D:/temp/POS_GPS_MAP1.csv', sep='\t')
read.csv
pointData = data.frame(dl_geoData$name,
color = c(rep("skyblue",7),
rep("red",200)))
remapB(get_city_coord("大连"),
zoom = 13,
title = "大连终端户分布",
markPointData = pointData,
markPointTheme = markPointControl(symbol = 'pin',
symbolSize = 5,
effect = F),
geoData = dl_geoData)
